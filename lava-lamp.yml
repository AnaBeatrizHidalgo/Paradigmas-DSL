grid:
  width: 500
  height: 900

functions:
  cohesion:
    type: gaussian
    mu: 0.18
    sigma: 0.045
    amplitude: 2.0
    baseline: -1.0
  tension:
    type: gaussian
    mu: 0.23
    sigma: 0.06
    amplitude: 1.2
    baseline: -0.4
  buoyancy:
    type: gaussian
    mu: 0.15
    sigma: 0.03
    amplitude: 1.6
    baseline: -0.7
  gravity:
    type: gaussian
    mu: 0.32
    sigma: 0.06
    amplitude: -0.6
    baseline: 0.3
  diffusion:
    type: linear
    slope: -0.4
    intercept: 0.3

kernels:
  core:
    type: disk
    radius: 16
    gaussian_sigma: 2.0
    gaussian_kernel_size: 9
  shell:
    type: ring
    outer_diameter: 28
    inner_diameter: 16
    gaussian_sigma: 1.8
    gaussian_kernel_size: 11
  ambient:
    type: ring
    outer_diameter: 45
    inner_diameter: 25
    gaussian_sigma: 2.5
    gaussian_kernel_size: 15
  blob-field:
    type: composite
    operation: add
    left:
      type: composite
      operation: add
      left:
          type: composite
          operation: multiply
          left:
              ref: core
          right:
              1.0
      right:
          type: composite
          operation: multiply
          left:
              ref: shell
          right:
              0.7
    right:
      type: composite
      operation: multiply
      left:
          ref: ambient
      right:
          -0.3

lifeforms:
  blob:
    color: "#FF8844"
    initial_state: random
    rules:
      blob:
        dt: 0.1
        kernel:
          ref: blob-field
        func:
          ref: cohesion
        weight: 1.0
      blob:
        dt: 0.08
        kernel:
          ref: shell
        func:
          ref: tension
        weight: 0.8
      blob:
        dt: 0.12
        kernel:
          ref: ambient
        func:
          ref: buoyancy
        weight: 0.5
      blob:
        dt: 0.25
        kernel:
          ref: ambient
        func:
          ref: gravity
        weight: 0.3
      blob:
        dt: 0.04
        kernel:
          ref: ambient
        func:
          ref: diffusion
        weight: 0.3

display:
  quit_key: q

